---
layout: posts
title: 2025-07-01-Azure-Functions
date: 2025-07-01 16:16:14 +0900
category: Learn
tags:
  - Azure
  - Learn
  - AzureFunctions
---
 ### [MicroSoft Data School] Azure Functions : 서버리스 기반의 효율적인데이터 수집 및 파이프라인 트리거

### 1. 서론 : 왜 Azure Functions인가 ?

- **1.1 데이터 엔지니어링 파이프라인의 변화**
	- 기존 배치 처리 방식의 한계 
		- 데이터 수집 및 분석 지연
			- 기존의 배치 처리 방식은 데이터를 모아서 한 번에 처리하기 때문에, 필연적으로 시간지연이 발생한다. 이 시간 지연은 비즈니스 의사 결정에 큰 영향을 미치며, 다양한 문제를 야기한다. 
		- 의사 결정 속도 저하
			- 배치 처리 방식은 분석 결과가 늦게 나와서 의사 결정을 신속하게 내리는 것을 어렵게 만든다. 이러한 의사 결정 지연은 기업의 경쟁력을 약화시키고, 다양한 손실을 초래할 수 있다. 
		- 기회 상실과 위험 증가
			- 실시간으로 발생하는 문제점이나 새로운 기회를 포착하지 못할 수 있다.
		- 비효율적인 리소스 사용
			- 배치 처리 방식은 데이터를 모아서 한 번에 처리하기 때문에, 필요 이상의 컴퓨팅 리소스를 소모하고, 데이터 처리 시간과 비용을 증가시키는 비효율적인 구조를 가지고 있다. 
- **1.2 Azure Functions의 등장 : 서버리스(Serverless) 컴퓨팅이 필요한 이유와 실시간 데이터 분석의 장점**
	- 데이터의 양이 폭증하고, 비즈니스의 속도가 가속화 되면서 기존의 배치 처리 방식은 한계에 직면한다. 데이터를 모아서 한번에 처리하는 방식은 필연적인 시간 지연을 야기한다. 이는 신속한 의사결정을 저해하고, 실시간으로 발생하는 비즈니스 기회나 문제에 즉각 대응하기 어렵게 만든다. 또한 예측 불가능한 데이터 유입량에 대해 리소스 사용의 비효율성을 초래한다.

	- 이러한 문제점을 해결하고 **실시간 데이터 분석의 이점을 극대화하기 위해 등장한 것이 서버리스(Serverless)컴퓨팅** 이다. 그리고 Microsoft Azure 클라우드 환경에서 이 서버리스 컴퓨팅을 대표하는 서비스가 바로 Azure Functions이다.

	- Azure Functions는 애플리케이션 실행에 필요한 인프라와 리소스를 주문형(On-Demand)으로 제공하며 지속적으로 업데이트한다. Azure Functions가 가진 서버리스의 핵심 특성들은 위에서 언급된 배치 처리의 한계를 극복하고 실시간 데이터 파이프라인 구축에 혁신적인 이점을 제공한다.
		- **리소스의 On-Demand제공 및 종량제 과금**
			- Azure Functions는 코드가 실제로 실행될 때만 컴퓨팅 리소스를 할당하고, 사용한 만큼만 비용을 청구하는 모델이다. 이는 24시간 서버를 유지해야 하는 기존 방식과 달리, 데이터 유입량이 불규칙하거나 예측 불가능한 상황에서 **비용을 크게 절감하고 효율적인 리소스 사용을 가능하게 한다**. 특히 웹 크롤링이나 특정 이벤트 발생 시에만 짧게 실행되는 데이터 수집 및 변환 작업에 최적화 되어있다.

		- **자동 스케일링을 통한 즉각적인 확장성** 
			- 대규모의 데이터 스트림이 갑자기 유입되거나 트래픽이 폭증하더라도, Azure Functions는 자동으로 필요한 만큼의 인스턴스를 확장하여 모든 요청을 지연 없이 처리한다. 이러한 **빠른 확장성**은 데이터 수집 및 분석의 지연을 최소화하고, 항상 **최신 정보를 실시간으로 제공**한다. 이는 기업이 '빠른 의사결정'을 내리고, 실시간으로 '문제를 해결'하며, '기회를 포착'하는 데 필수적이다.
		
		- **서버 관리 부담 감소와 개발 생산성 향상**
		- Azure Functions는 기반 인프라(서버, 운영체제, 런타임 등)의 관리 및 유지보수를 Microsoft Azure가 전적으로 책임진다. 데이터 엔지니어는 인프라 운영에 대한 부담 없이 **순수하게 비즈니스 로직을 구현하는 코드 개발에만 집중할 수 있다.** 이는 개발 생산성을 크게 향상시키고, 데이터 파이프라인 구축 및 변경에 소요되는 시간을 단축시켜 전반적인 운영 효율성을 극대화한다.

	- 결론적으로, Azure Functions는 서버리스 특성 덕분에 실시간 데이터 파이프라인 구축의 핵심적인 구성요소가 된다. 배치 처리의 한계를 뛰어넘어 **신속하고, 비용 효율적이며, 확장 가능한 데이터 처리 환경을 제공한다.**
- **1.3 Azure Functions의 핵심 개념과 데이터 엔지니어링 파이프라인에서 Azure Functions의 역할, 그리고 실제 활용 사례**
	- 
	

### Azure Functions 이란 ?
-  Azure Functions는 애플리케이션 실행에 필요한 인프라와 리소스를 지속적으로 업데이트하여 제공하는 주문형(On-Demand) 클라우드 서비스
-  Azure 서버리스 컴퓨팅을 대표하는 서비스
-  웹 API 구축, 데이터 처리, Iot, 메시지 큐 등 다양한 분야에 활용 가능
-  필요할 때만 리소스를 사용, 사용한 만큼만 비용을 지불
-  서버 관리 부담이 감소되기 때문에 생산성 향상, 비용 효율성, 자동확장, 빠른개발, 다양한 서비스와 연동이 가능하다는 장점이 있음(Azure Storage , Logic Apps, Github, Event Hubs, Stream Analytics, Cosmos DB등 과의 연동 가능) 


### Azure Functions 트리거
- HTTP 트리거
	- 웹이나 앱에서 HTTP요청이 들어오면 Azure Functions가 HTTP 트리거를 통해 실행됨
- Timer 트리거
	-  설정해 놓은 시간이 되면 Azure Functions가 작동을 시작
- Queue 트리거
	- 메시지 큐에 새로운 주문이나 작업이 들어오면 Queue 트리거를 통해 Azure Functions가 실행됨 
- Blob Storage 트리거
	-  Blob Storage에 파일이 업로드 되면 Azure Funcsions가 동작

### Azure Functions 바인딩
- 입력 바인딩 -> 함수가 실행될때 필요한 데이터를 자동으로 가져오는 도구
	- Blob Storage, Cosmos DB에서 데이터를 알아서 꺼내 와서 함수 안에서 바로 쓸 수 있게 해줌
- 출력 바인딩 -> 함수가 결과물을 자동으로 외부 서비스에 저장하거나 보내주는 도구
	- Cosmos DB 출력 바인딩 : 함수가 사용자 정보를 알아서 DB에 저장

### 활용 분야 :
- 파일 업로드 처리, 실시간 데이터 처리, AI서비스와의 연동, 예약 작업 실행 등
- 확장 가능한 API개발 -> HTTP 트리거를 사용하여 API 엔드 포인트를 구축
- 서버리스 워크플로우 구축
- 데이터베이스 변경 감지
- 메시지 시스템 처리